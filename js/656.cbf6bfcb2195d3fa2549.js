"use strict";(self.webpackChunkperson_web=self.webpackChunkperson_web||[]).push([[656],{7036:(n,e,t)=>{t.d(e,{A:()=>l});var a=t(1601),i=t.n(a),r=t(6314),o=t.n(r)()(i());o.push([n.id,".avatar-preview__canvas {\n  width: 380px;\n  height: 380px;\n  border: 1px solid #000;\n}\n",""]);const l=o},6953:(n,e,t)=>{t.d(e,{A:()=>l});var a=t(1601),i=t.n(a),r=t(6314),o=t.n(r)()(i());o.push([n.id,".category-container {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  margin-top: 13px;\n}\n.category-container__item {\n  height: 28px;\n  background: #f4fafd;\n  border: 1px solid #0099ff0f;\n  border-radius: 8px;\n  padding: 4px 8px;\n  margin-right: 16px;\n  margin-bottom: 16px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  cursor: pointer;\n}\n.category-container__item:hover {\n  background: #dbecfa;\n}\n.category-container__item--active {\n  background: #0099ff !important;\n}\n.category-container__item--active .category-container__item--category {\n  color: #fff !important;\n}\n.category-container__item--category {\n  font-family: PingFangSC-Medium;\n  font-weight: 500;\n  font-size: 14px;\n  display: inline-block;\n  color: #000000d9;\n}\n.category-container__item--icon {\n  display: inline-block;\n  margin-right: 8px;\n  width: 20px;\n  height: 20px;\n}\n.category-container__item:last-child {\n  margin-right: 0px;\n}\n",""]);const l=o},4120:(n,e,t)=>{t.d(e,{A:()=>l});var a=t(1601),i=t.n(a),r=t(6314),o=t.n(r)()(i());o.push([n.id,".crop-container {\n  position: relative;\n  width: 100%;\n  height: 400px;\n  background-color: #333;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n.crop-slider {\n  margin-top: 20px;\n}\n.crop-modal__footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top: none;\n  /* 移除 Modal 底部边框 */\n}\n.crop-modal__select {\n  margin-right: 10px;\n}\n.crop-modal__select-wrapper {\n  display: flex;\n  align-items: center;\n}\n.crop-modal__buttons {\n  display: flex;\n  gap: 10px;\n  /* 按钮之间的间距 */\n}\n",""]);const l=o},3308:(n,e,t)=>{t.d(e,{A:()=>l});var a=t(1601),i=t.n(a),r=t(6314),o=t.n(r)()(i());o.push([n.id,".image-file-empty {\n  max-width: 500px;\n  flex: 1;\n  padding: 0 13px;\n  margin-bottom: 50px;\n}\n.image-file-empty__title {\n  height: 100px;\n  padding: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.image-file-empty__title--icon {\n  font-size: 40px;\n}\n.image-file-empty__title--desc {\n  margin-top: 12px;\n  font-family: PingFangSC-Regular;\n  font-weight: 400;\n  font-size: 15px;\n  color: #000000a6;\n}\n.image-file-empty__example {\n  display: flex;\n  flex-direction: column;\n}\n.image-file-empty__example--item {\n  position: relative;\n  width: 100%;\n  height: 197.5px;\n  background: #ededed;\n  margin-top: 4px;\n}\n.image-file-empty__example--item img {\n  width: 100%;\n  height: 197.5px;\n  object-fit: cover;\n}\n.image-file-empty__example--item-name {\n  position: absolute;\n  text-align: center;\n  left: 12px;\n  top: 12px;\n  width: 22.5px;\n  height: auto;\n  background: #000000a6;\n  border-radius: 4px;\n  padding: 4px 3.5px;\n  font-family: PingFangSC-Regular;\n  font-weight: 400;\n  font-size: 12px;\n  color: #ffffff;\n  white-space: pre-wrap;\n}\n",""]);const l=o},5381:(n,e,t)=>{t.d(e,{A:()=>l});var a=t(1601),i=t.n(a),r=t(6314),o=t.n(r)()(i());o.push([n.id,".upload-image__input {\n  padding: 0px;\n}\n.upload-image__label {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.upload-image .upload-btn {\n  width: 100%;\n  height: 49px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.upload-image .upload-loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n.upload-image .upload-loading--icon {\n  font-size: 40px;\n  color: #09f;\n  animation: rotation 1.5s linear infinite;\n}\n.upload-image .upload-loading--text {\n  padding-left: 10px;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.8);\n}\n@keyframes rotation {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]);const l=o},308:(n,e,t)=>{t.d(e,{A:()=>l});var a=t(1601),i=t.n(a),r=t(6314),o=t.n(r)()(i());o.push([n.id,"",""]);const l=o},2565:(n,e,t)=>{t.d(e,{A:()=>_});var a=t(4848),i=t(6540),r={gray:function(n){var e=n[0],t=n[1],a=n[2],i=n[3],r=(e+t+a)/3;return[Math.round(r),Math.round(r),Math.round(r),i]},blackWhite:function(n){var e=(n[0]+n[1]+n[2])/3>=100?255:0;return[e,e,e,n[3]]},negative:function(n){return[255-n[0],255-n[1],255-n[2],n[3]]},comic:function(n){var e=n[0],t=n[1],a=n[2],i=n[3],r=Math.abs(t-a+t+e)*e/256,o=Math.abs(a-t+a+e)*e/256,l=Math.abs(a-t+a+e)*t/256;return[Math.round(r),Math.round(o),Math.round(l),i]},nostalgia:function(n){var e=n[0],t=n[1],a=n[2],i=n[3],r=.393*e+.769*t+.189*a,o=.349*e+.686*t+.168*a,l=.272*e+.534*t+.131*a;return[Math.round(r),Math.round(o),Math.round(l),i]},fusedCast:function(n){var e=n[0],t=n[1],a=n[2],i=n[3],r=128*e/(t+a+1),o=128*t/(e+a+1),l=128*a/(t+e+1);return[Math.round(r),Math.round(o),Math.round(l),i]}},o=function(n,e){var t=r[n];if(t)return t(e);throw new Error('Filter "'.concat(n,'" not found.'))};var l=t(5072),s=t.n(l),c=t(7825),d=t.n(c),u=t(7659),p=t.n(u),m=t(5056),f=t.n(m),g=t(540),h=t.n(g),x=t(1113),y=t.n(x),v=t(7036),b={};b.styleTagTransform=y(),b.setAttributes=f(),b.insert=p().bind(null,"head"),b.domAPI=d(),b.insertStyleElement=h();s()(v.A,b);v.A&&v.A.locals&&v.A.locals;const _=function(n){var e=n.imageSrc,t=n.wrapperUrl,r=n.filterType,l=n.onExport,s=(0,i.useRef)(null);return console.log("filterType",r),(0,i.useEffect)((function(){var n=s.current;if(n){var a=n.getContext("2d");if(a){var i=new Image;i.setAttribute("crossorigin","anonymous"),i.src=e;var c=new Image;c.setAttribute("crossorigin","anonymous"),t&&(c.src=t),i.onload=function(){if(console.log("onload ",i),a.clearRect(0,0,n.width,n.height),n.width=i.width,n.height=i.height,a.drawImage(i,0,0,i.width,i.height),r){for(var e=a.getImageData(0,0,n.width,n.height),t=e.data,s=0;s<t.length;s+=4){var d=t.slice(s,s+4),u=o(r,d),p=u[0],m=u[1],f=u[2],g=u[3];t[s]=p,t[s+1]=m,t[s+2]=f,t[s+3]=g}a.putImageData(e,0,0);var h=n.toDataURL("image/png");l(h)}c&&(c.onload=function(){a.drawImage(c,0,0,i.width,i.height);var e=n.toDataURL("image/png");l(e)})}}}}),[e,t,l,r]),(0,a.jsx)("canvas",{ref:s,className:"avatar-preview__canvas"})}},6220:(n,e,t)=>{t.d(e,{A:()=>_});var a=t(4848),i=t(6942),r=t.n(i),o=t(5072),l=t.n(o),s=t(7825),c=t.n(s),d=t(7659),u=t.n(d),p=t(5056),m=t.n(p),f=t(540),g=t.n(f),h=t(1113),x=t.n(h),y=t(6953),v={};v.styleTagTransform=x(),v.setAttributes=m(),v.insert=u().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=g();l()(y.A,v);y.A&&y.A.locals&&y.A.locals;var b=function(){return b=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},b.apply(this,arguments)};const _=function(n){var e=n.offsetX,t=n.onChange,i=n.value,o=n.categoryList;return(0,a.jsx)("div",b({className:"category-container",style:{marginLeft:e}},{children:null==o?void 0:o.map((function(n){var e=n.id,o=n.category,l=n.icon;return(0,a.jsxs)("div",b({className:r()(["category-container__item",i===e?"category-container__item--active":""]),onClick:function(){return function(n){t&&t(n)}(e)}},{children:[!!l&&(0,a.jsx)("div",b({className:"category-container__item--icon"},{children:l})),(0,a.jsx)("div",b({className:"category-container__item--category"},{children:o}))]}),e)}))}))}},3237:(n,e,t)=>{t.d(e,{A:()=>P});var a=t(4848),i=t(6540),r=t(9608),o=t(4205),l=t(3241),s=t(6531),c=t(2619),d=t(5072),u=t.n(d),p=t(7825),m=t.n(p),f=t(7659),g=t.n(f),h=t(5056),x=t.n(h),y=t(540),v=t.n(y),b=t(1113),_=t.n(b),w=t(4120),A={};A.styleTagTransform=_(),A.setAttributes=x(),A.insert=g().bind(null,"head"),A.domAPI=m(),A.insertStyleElement=v();u()(w.A,A);w.A&&w.A.locals&&w.A.locals;var j=function(){return j=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},j.apply(this,arguments)},N=function(n,e,t,a){return new(t||(t=Promise))((function(i,r){function o(n){try{s(a.next(n))}catch(n){r(n)}}function l(n){try{s(a.throw(n))}catch(n){r(n)}}function s(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(o,l)}s((a=a.apply(n,e||[])).next())}))},C=function(n,e){var t,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(o=0)),o;)try{if(t=1,a&&(i=2&l[0]?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=e.call(n,o)}catch(n){l=[6,n],a=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},k=r.A.Option;const P=function(n){var e=n.visible,t=n.imageSrc,d=n.onCancel,u=n.onCropComplete,p=(0,i.useState)({x:0,y:0}),m=p[0],f=p[1],g=(0,i.useState)(1),h=g[0],x=g[1],y=(0,i.useState)(1),v=y[0],b=y[1],_=(0,i.useState)(null),w=_[0],A=_[1],P=function(n){x(n)},S=(0,i.useCallback)((function(n,e){A(e)}),[]),M=(0,i.useCallback)((function(){return N(void 0,void 0,void 0,(function(){var n,e,a,i,r;return C(this,(function(o){switch(o.label){case 0:return w?((n=new Image).src=t,[4,new Promise((function(e){n.onload=function(){return e()}}))]):[2];case 1:return o.sent(),e=document.createElement("canvas"),(a=e.getContext("2d"))?(i=w.width,r=w.height,e.width=i,e.height=r,a.drawImage(n,w.x,w.y,i,r,0,0,i,r),[2,new Promise((function(n){e.toBlob((function(e){if(e){var t=URL.createObjectURL(e);n(t)}}),"image/jpeg")}))]):[2]}}))}))}),[w,t]);return(0,a.jsxs)(o.A,j({visible:e,onCancel:d,footer:(0,a.jsxs)("div",j({className:"crop-modal__footer"},{children:[(0,a.jsx)("div",j({className:"crop-modal__select-wrapper"},{children:(0,a.jsxs)(r.A,j({defaultValue:v,style:{width:120},onChange:function(n){b(n)},className:"crop-modal__select",disabled:!0},{children:[(0,a.jsx)(k,j({value:1},{children:"1:1"})),(0,a.jsx)(k,j({value:4/3},{children:"4:3"})),(0,a.jsx)(k,j({value:16/9},{children:"16:9"})),(0,a.jsx)(k,j({value:1.5},{children:"3:2"}))]}))})),(0,a.jsxs)("div",j({className:"crop-modal__buttons"},{children:[(0,a.jsx)(l.Ay,j({onClick:d},{children:"取消"})),(0,a.jsx)(l.Ay,j({type:"primary",onClick:function(){return N(void 0,void 0,void 0,(function(){var n;return C(this,(function(e){switch(e.label){case 0:return[4,M()];case 1:return(n=e.sent())&&u(n),[2]}}))}))}},{children:"确定"}))]}))]})),title:"裁剪图片"},{children:[(0,a.jsx)("div",j({className:"crop-container"},{children:(0,a.jsx)(c.Ay,{image:t,crop:m,zoom:h,aspect:v,onCropChange:function(n){f(n)},onZoomChange:P,onCropComplete:S})})),(0,a.jsx)(s.A,{min:1,max:3,step:.1,value:h,onChange:P,className:"crop-slider"})]}))}},2648:(n,e,t)=>{t.d(e,{i:()=>C});var a=t(4848),i=t(5824),r=t(5072),o=t.n(r),l=t(7825),s=t.n(l),c=t(7659),d=t.n(c),u=t(5056),p=t.n(u),m=t(540),f=t.n(m),g=t(1113),h=t.n(g),x=t(3308),y={};y.styleTagTransform=h(),y.setAttributes=p(),y.insert=d().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=f();o()(x.A,y);x.A&&x.A.locals&&x.A.locals;var v=t(6540),b=t(4716),_=t(308),w={};w.styleTagTransform=h(),w.setAttributes=p(),w.insert=d().bind(null,"head"),w.domAPI=s(),w.insertStyleElement=f();o()(_.A,w);_.A&&_.A.locals&&_.A.locals;var A=function(){return A=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},A.apply(this,arguments)};const j=function(n){var e=n.url,t=n.alt,i=n.className,r=(0,v.useState)(!0),o=r[0],l=r[1];return(0,a.jsx)(b.A,A({spinning:o},{children:(0,a.jsx)("img",{src:e,alt:t,className:i,onLoad:function(){l(!1)},style:{display:o?"none":"block",minHeight:100,minWidth:100}})}))};var N=function(){return N=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},N.apply(this,arguments)},C=function(n){var e=n.list,t=n.title;return(0,a.jsxs)("div",N({className:"image-file-empty"},{children:[(0,a.jsxs)("div",N({className:"image-file-empty__title"},{children:[(0,a.jsx)(i.A,{className:"image-file-empty__title--icon"}),(0,a.jsx)("div",N({className:"image-file-empty__title--desc"},{children:t}))]})),(0,a.jsx)("div",N({className:"image-file-empty__example"},{children:e.map((function(n){var e=n.url,t=n.name;return(0,a.jsxs)("div",N({className:"image-file-empty__example--item"},{children:[(0,a.jsx)(j,{url:e,alt:t,className:"image-file-empty__example--item-img"}),(0,a.jsx)("div",N({className:"image-file-empty__example--item-name"},{children:t}))]}),t)}))}))]}))}},7252:(n,e,t)=>{t.d(e,{A:()=>k});var a=t(4848),i=t(6540),r=t(3532),o=t(5930),l=t(3241),s=t(7028),c=t(6942),d=t.n(c),u=t(5072),p=t.n(u),m=t(7825),f=t.n(m),g=t(7659),h=t.n(g),x=t(5056),y=t.n(x),v=t(540),b=t.n(v),_=t(1113),w=t.n(_),A=t(5381),j={};j.styleTagTransform=w(),j.setAttributes=y(),j.insert=h().bind(null,"head"),j.domAPI=f(),j.insertStyleElement=b();p()(A.A,j);A.A&&A.A.locals&&A.A.locals;var N=function(){return N=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},N.apply(this,arguments)},C=["image/jpeg","image/png","image/gif","image/bmp"];const k=function(n){var e=n.onChange,t=n.className,c=n.downloadElment,u=(0,i.useState)(!1),p=u[0],m=u[1];return(0,a.jsx)("div",N({className:d()("upload-image",t)},{children:(0,a.jsx)(o.A,N({className:"upload-image__input",showUploadList:!1,beforeUpload:function(n){var e=C.includes(n.type);return e||r.Ay.error("只能上传图片格式文件（JPG, PNG, GIF, BMP）"),e},customRequest:function(n){var t=n.file;m(!0),function(n,e){var t=new FileReader;t.readAsDataURL(n),t.onload=function(){return e(t.result)}}(t,(function(n){m(!1),e(n)}))}},{children:(0,a.jsx)("div",N({className:"upload-image__label"},{children:p?(0,a.jsxs)("div",N({className:"upload-loading"},{children:[(0,a.jsx)(s.A,{className:"upload-loading--icon"}),(0,a.jsx)("span",N({className:"upload-loading--text"},{children:"图片上传中"}))]})):c||(0,a.jsx)(l.Ay,N({className:"upload-btn",type:"primary",icon:(0,a.jsx)(s.A,{})},{children:"立即上传图片"}))}))}))}))}}}]);