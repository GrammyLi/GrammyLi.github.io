"use strict";(self.webpackChunkperson_web=self.webpackChunkperson_web||[]).push([[368],{438:(n,e,r)=>{r.d(e,{A:()=>c});var t=r(1601),o=r.n(t),a=r(6314),s=r.n(a)()(o());s.push([n.id,".audio-controls {\n  margin-top: 10px;\n}\n.audio-controls button {\n  margin-right: 10px;\n}\n",""]);const c=s},5231:(n,e,r)=>{r.d(e,{A:()=>c});var t=r(1601),o=r.n(t),a=r(6314),s=r.n(a)()(o());s.push([n.id,'.pokemon-cell {\n  background-size: cover;\n  background-position: center;\n  /* 其他类可以继续 */\n}\n.pokemon-cell.highlighted {\n  border: 2px solid lawngreen;\n}\n.pokemon-cell.p1 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/1.png");\n}\n.pokemon-cell.p2 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/2.png");\n}\n.pokemon-cell.p3 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/3.png");\n}\n.pokemon-cell.p4 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/4.png");\n}\n.pokemon-cell.p5 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/5.png");\n}\n.pokemon-cell.p6 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/6.png");\n}\n.pokemon-cell.p7 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/7.png");\n}\n.pokemon-cell.p8 {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/8.png");\n}\n',""]);const c=s},3644:(n,e,r)=>{r.d(e,{A:()=>c});var t=r(1601),o=r.n(t),a=r(6314),s=r.n(a)()(o());s.push([n.id,'.popstar {\n  background-image: url("https://grammyli.com/g/popstar/Pictures/bg.png");\n}\n.popstar__header {\n  text-align: center;\n  margin-bottom: 20px;\n}\n.popstar__header h1 {\n  font-size: 28px;\n  color: darkblue;\n}\n.popstar__table {\n  width: 100%;\n  margin: auto;\n  border-spacing: 2px;\n  border-radius: 2px;\n}\n.popstar__table td {\n  width: 62px;\n  height: 62px;\n  text-align: center;\n  border-radius: 5px;\n}\n.popstar__score {\n  margin-top: 20px;\n  font-size: 18px;\n  color: orangered;\n}\n',""]);const c=s},6368:(n,e,r)=>{r.r(e),r.d(e,{default:()=>N});var t=r(4848),o=r(6540),a=function(n,e){void 0===n&&(n=10),void 0===e&&(e=10);for(var r=[],t=0;t<n;t++){for(var o=[],a=0;a<e;a++){var s=Math.floor(6*Math.random())+1;o.push(s)}r.push(o)}return r},s=function(n){for(var e=0;e<n[0].length;e++)for(var r=n.length-1,t=n.length-1;t>=0;t--)0!==n[t][e]&&(r!==t&&(n[r][e]=n[t][e],n[t][e]=0),r--);var o=function(e){if(n.every((function(n){return 0===n[e]})))for(var r=0;r<n.length;r++)for(var t=e;t>0;t--)n[r][t]=n[r][t-1],n[r][t-1]=0};for(e=n[0].length-1;e>0;e--)o(e);return n},c=r(3241),l=r(5072),i=r.n(l),p=r(7825),u=r.n(p),g=r(7659),m=r.n(g),d=r(5056),h=r.n(d),f=r(540),b=r.n(f),v=r(1113),k=r.n(v),x=r(438),y={};y.styleTagTransform=k(),y.setAttributes=h(),y.insert=m().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=b();i()(x.A,y);x.A&&x.A.locals&&x.A.locals;var A=function(){return A=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},A.apply(this,arguments)};const _=function(){var n=(0,o.useRef)(null);return(0,t.jsxs)("div",A({className:"audio-controls"},{children:[(0,t.jsx)("audio",{ref:n,src:"https://grammyli.com/g/popstar/Music/朝日温子,戸高一生%20-%20K.K.%20Idol%20(しずえ%20Ver.).mp3"}),(0,t.jsx)(c.Ay,A({onClick:function(){n.current&&n.current.play()},className:"audio-controls__button"},{children:"Play BGM"})),(0,t.jsx)(c.Ay,A({onClick:function(){n.current&&n.current.pause()},className:"audio-controls__button"},{children:"Pause"}))]}))};var P=r(5231),j={};j.styleTagTransform=k(),j.setAttributes=h(),j.insert=m().bind(null,"head"),j.domAPI=u(),j.insertStyleElement=b();i()(P.A,j);P.A&&P.A.locals&&P.A.locals;const w=function(n){var e=n.x,r=n.y,o=n.value,a=n.onClick,s=n.isSelected;return(0,t.jsx)("td",{className:"pokemon-cell ".concat(o?"p".concat(o):""," ").concat(s?"highlighted":""),onClick:function(){a(e,r)}})};var S=r(3644),C={};C.styleTagTransform=k(),C.setAttributes=h(),C.insert=m().bind(null,"head"),C.domAPI=u(),C.insertStyleElement=b();i()(S.A,C);S.A&&S.A.locals&&S.A.locals;var E=function(){return E=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},E.apply(this,arguments)};const N=function(){var n=(0,o.useState)(a()),e=n[0],r=n[1],c=(0,o.useState)(0),l=c[0],i=c[1],p=(0,o.useState)(new Set),u=p[0],g=p[1];(0,o.useEffect)((function(){r(a())}),[]);var m=function(n,t){var o=new Set(u);if(0===e[n][t]||1===o.size)g(new Set);else if(0===o.size)g(new Set(["".concat(n,"-").concat(t)]));else{var a=function(n,e,r){if(0===n[e][r])return{newPokemons:n,pointsEarned:0};for(var t=new Set,o=[[e,r]],a=n[e][r],c=0;o.length>0;){var l=o.pop(),i=l[0],p=l[1];t.has("".concat(i,"-").concat(p))||n[i][p]!==a||(t.add("".concat(i,"-").concat(p)),n[i][p]=0,c+=10,i>0&&o.push([i-1,p]),i<n.length-1&&o.push([i+1,p]),p>0&&o.push([i,p-1]),p<n[0].length-1&&o.push([i,p+1]))}return{newPokemons:s(n),pointsEarned:c}}(e,n,t),c=a.newPokemons,p=a.pointsEarned;r(c),i(l+p),g(new Set)}};return(0,t.jsxs)("div",E({className:"popstar"},{children:[(0,t.jsxs)("header",E({className:"popstar__header"},{children:[(0,t.jsx)("h1",{children:"Pokemons - PopStar"}),(0,t.jsx)(_,{}),(0,t.jsx)("div",E({className:"popstar__score"},{children:(0,t.jsxs)("span",{children:["SCORE: ",l]})}))]})),(0,t.jsx)("table",E({className:"popstar__table"},{children:(0,t.jsx)("tbody",{children:e.map((function(n,e){return(0,t.jsx)("tr",{children:n.map((function(n,r){return(0,t.jsx)(w,{x:e,y:r,value:n,onClick:m,isSelected:u.has("".concat(e,"-").concat(r))},"".concat(e,"-").concat(r))}))},e)}))})}))]}))}}}]);